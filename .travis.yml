# You must sign into travis-ci.org and set the commit hook on your project for travis to
# run on your project. The secure: variable must be generated by running `travis encrypt`
# on a github oauth key that you can generate using curl.

language: node_js
cache: yarn

env:
  global:
    - secure: LQoikynXr+U0jhOlWAz+0YGzolcGc8B+30qfveZHf+NbtndSZsjzTc3THMUtj904WpDDIlosDEG4DehBhYbIkNrRvfBL8jqM8ljf1rwcVOH9F+Uw5wGdm5dQ7jW182RXYAFoFtXe4aJtcC/h4nl7cYNKjGF33N6XkO17xjDYUj8=

script:
  # We want to gate on passing tests and a successful build
  - yarn build

deploy:
  # deploy the site
  - provider: pages
    repo: mysterycommand/intergalacticfantastic
    target_branch: gh-pages
    github_token: $GH_TOKEN
    allow_empty_commit: true
    skip_cleanup: true
    keep_history: true
    local_dir: dist
    on:
      branch: master
