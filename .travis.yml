# You must sign into travis-ci.org and set the commit hook on your project for travis to
# run on your project. The secure: variable must be generated by running `travis encrypt`
# on a github oauth key that you can generate using curl.

language: node_js
cache: yarn

env:
  global:
    - secure: E1QKQNCt1PqwC66dytG7BINREPBEpCm2Bhg6kqQ30+T2CnVoDmXn5l4qGXOY8FS+CZJF6Q13LYri6y4724VtTXi+/EdxlIymoZ3EwhxZhH1xKW55gAp9C55/qJkTNHmCPfY8UjIHxhqkBovRDWBcQ4OsXjInx1wJ45/OdluGvt4=

script:
  # We want to gate on passing tests and a successful build
  - yarn build

deploy:
  # deploy the site
  - provider: pages
    repo: mysterycommand/intergalacticfantastic
    target_branch: master
    github_token: $GH_OAUTH_TOKEN
    allow_empty_commit: true
    skip_cleanup: true
    keep_history: true
    local_dir: dist
    on:
      branch: master
